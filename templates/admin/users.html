<template name="AdminUsers">
		{{>AdminHeader header="Users"}}
		<div class="row">
			<div class="col s12">
				<a class="edit-user waves-effect waves-light btn" href="{{pathFor 'AdminAddUser'}}">Add User</a>
			</div>
		</div>
		<div class="card">
			<div class="card-content user-overview">
				<div class="row">
					<div class="col s12">
						<table>
							<thead>
								<tr>
									<th data-field="email">Email</th>
									<th data-field="name-first">First Name</th>
									<th data-field="name-last">Last Name</th>
									<th data-field="roles">Roles</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								{{#each users}}
								<tr>
									<td>{{#each emails}}{{address}}{{/each}}</td>
									<td>{{name_first}}</td>
									<td>{{name_last}}</td>
									<td>{{#each roles}}{{.}} {{/each}}</td>
									<td><a class="waves-effect waves-light btn" href="{{pathFor 'AdminUser'}}">Profile</a></td>
								</tr>
								{{/each}}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
</template>

<template name="AdminUser">
<!-- TODO: Emails, will users have more than 1 email, if so then update user-edit to allow for multiple emails. Also, need to update the update script if keeping track of verifying emails -->
{{#with u}}
		{{>AdminHeader header="User Profile"}}
		<div class="row">
			<div class="col s12">
				<div class="card ">
					<div class="card-content overview">
						<div class="row">
							<div class="col s12">
								<a class="edit waves-effect waves-light btn" href="#">EDIT</a>
							</div>
						</div>
						<div class="row">
							<div class="col s12">
								<h4>Email</h4>
								<p>{{#each emails}}{{address}}{{/each}}</p>
							</div>
						</div>
						<div class="row">
							<div class="col s12">
								<h4>Permissions</h4>
								<ul>{{#each roles}}<li>{{.}}</li>{{/each}}</ul>
							</div>
						</div>			
					</div>
					<div class="card-content edit hide">
						<div class="row">
							<form class="col s12">
										<input type="hidden" id="user-id" value="{{_id}}"/>
								<div class="row">
									<div class="input-field col s12">
										<h4>Email</h4>
										<input id="email" type="email" class="validate" value="{{#each emails}}{{address}}{{/each}}">
									</div>
								</div>
								{{#if isInRole 'super'}}
								<div class="row">
									<div class="input-field col s12">
										<h4>Permissions</h4>
										<div class="clearfix"></div>
										<input type="checkbox" class="role-cb filled-in" id="admin-role" value="admin" {{adminRole}}/>
										<label for="admin-role">admin</label>

										<div class="clearfix"></div>
										<input type="checkbox" class="role-cb filled-in" id="super-role" value="super" {{superRole}}/>
										<label for="super-role">super admin</label>

										<div class="clearfix"></div>
										<input type="checkbox" class="role-cb filled-in" id="articles-role" value="articles" {{articlesRole}}/>
										<label for="articles-role">article</label>
									</div>
								</div>
								{{/if}}
								<div class="row">
									<div class="input-field col s12">
										<button class="submit btn waves-effect waves-light light-blue accent-4" type="submit" name="action" alt="Save User Profile">Save</button>
									</div>
								</div>
							</form>
						</div>			
					</div>			
				</div>
			</div>
		</div>
{{/with}}
</template>

<template name="AdminAddUser">
		<div class="row">
			<div class="col s12">
				<h1>Add User</h1>
			</div>
		</div>
		<div class="card">			
			<div class="card-content user-edit">
				<div class="row">
					<form class="col s12">
						<div class="row">
							<div class="input-field col s12">
								<h4>Email</h4>
								<input id="email" type="email" class="validate" >
							</div>
						</div>
						{{#if isInRole 'super'}}
						<div class="row">
							<div class="input-field col s12">
								<h4>Permissions</h4>
								<div class="clearfix"></div>
								<input type="checkbox" class="role-cb filled-in" id="admin-role" value="admin"/>
								<label for="admin-role">admin</label>

								<div class="clearfix"></div>
								<input type="checkbox" class="role-cb filled-in" id="super-role" value="super"/>
								<label for="super-role">super admin</label>

								<div class="clearfix"></div>
								<input type="checkbox" class="role-cb filled-in" id="articles-role" value="articles"/>
								<label for="articles-role">article</label>
							</div>
						</div>
						{{/if}}
						<div class="row">
							<div class="input-field col s12">
								<button class="submit btn waves-effect waves-light light-blue accent-4" type="submit" name="action" alt="Add User">Save</button>
							</div>
						</div>
					</form>
				</div>			
			</div>		
		</div>	
</template>