<template name="AdminInstitution">
		{{>AdminHeader header="Institutions"}}
	<div class="row">
		<div class="col s12">
			<a class="waves-effect waves-light btn light-blue accent-4" href="/admin/institution/add">Add institution</a>
		</div>
	</div>

	<div class="row">
		<div class="col s12">
			<div class="card grey lighten-4">
			<div class="card-content">
				<div class="row">
					<div class="col s12">
						<table>
							<thead>
								<tr>
									<th data-field="institution">Institution</th>
									<th data-field="address">Address</th>
									<th data-field="ip-start">IP Start</th>
									<th data-field="ip-end">IP end</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								{{#each institutions}}
								<tr>
									<td><a href="/admin/institution/edit/{{_id}}">{{institution}}</a></td>
									<td>{{address}}</td>
									{{#each IPRanges}}
									<td>{{this.startIP}}</td>
									<td>{{this.endIP}}</td>
									{{/each}}
									<td>{{> quickRemoveButton collection="Institutions" _id=this._id class="waves-effect waves-light btn red"}}</td>
								</tr>
								{{/each}}
							</tbody>
						</table>
					</div>
				</div>
			</div>
			</div>
		</div>
	</div>
</template>

<template name="AdminInstitutionAdd">
	{{>AdminHeader header="Add an Institution"}}
	<div class="row">
		<div class="col s12">
				<div class="card grey lighten-4">
					<div class="card-content overview">
						<div class="row">
							<div class="col s12">
								<a href="/admin/institution" class="secondary-content">Back to Institution List</a>
								{{> quickForm collection="Institutions" id="InstitutionForm" type="insert"}}
							</div>
						</div>
					</div>
				</div>
		</div>
	</div>
</template>

<template name="AdminInstitutionEdit">
		{{>AdminHeader header="Institution"}}
		<div class="row">
			<div class="col s12">
				<div class="card grey lighten-4">
					<div class="card-content overview">
						<div class="row">
							<div class="col s12">
								<a class="edit waves-effect waves-light btn" href="#">EDIT</a>
							</div>
						</div>
						<div class="row">
							<div class="col s12"><h3>{{institution}}</h3><h4>{{address}}</h4><p>{{#each IPRanges}}{{this.startIP}} &mdash; {{this.endIP}}{{/each}}</p></div>
						</div>
					</div>
					<div class="card-content edit hide">
						<div class="row">
							<div class="col s12">
								{{> quickForm collection="Institutions" doc=this id="InstitutionForm" type="update"}}
							</div>
						</div>
						<div class="row">
							<div class="col s12 right-align">
								{{> quickRemoveButton collection="Institutions" _id=this._id class="waves-effect waves-light btn red"}}
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
</template>
